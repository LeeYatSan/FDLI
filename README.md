# FDLI
Function Drawing Language Interpreter （FDLI）

## UML CLASS DIAGRAM
[LINK](https://www.lucidchart.com/invitations/accept/c7075955-0e29-45f5-a0da-cc2f675324a1)
### UML - Packages
![image](https://github.com/LeeYatSan/FDLI/blob/master/Top-Level%20Package.png)
### UML - Scanner
![image](https://github.com/LeeYatSan/FDLI/blob/master/Package%20Scanner.png)
### UML - Parser
![image](https://github.com/LeeYatSan/FDLI/blob/master/Package%20Parser.png)
### UML - Semantic Analyzer
![image](https://github.com/LeeYatSan/FDLI/blob/master/Package%20Semantics.png)
### UML - Error
![image](https://github.com/LeeYatSan/FDLI/blob/master/Package%20ErrorLog.png)
### UML - GUI
![image](https://github.com/LeeYatSan/FDLI/blob/master/Package%20UI_main.png)

## Result
![image](https://github.com/LeeYatSan/FDLI/blob/master/srceenshot1.jpg)
### Input File
```
--------------- 函数f(t)=t的图形
origin is (20, 200);	-- 设置原点的偏移量
rot is 0;-- 设置旋转角度(不旋转)
scale is (40, 40);-- 设置横坐标和纵坐标的比例
--for T from 0 to 200 step 1 draw (t, 0);-- 横坐标的轨迹（纵坐标为0）
--for T from 0 to 150 step 1 draw (0, t);-- 纵坐标的轨迹（横坐标为0）
for T from 0 to 2*PI+ pi/50  step PI/50 draw (t,sin(t));-- 函数f(t)=t的轨迹 


```

### Lexer(Scanner) result
```
TokenType    Lexeme        Value       Func           Location
_________________________________________________________________

ORIGIN       ORIGIN       0.00000      null         (2    ,6    )
IS           IS           0.00000      null         (2    ,9    )
L_BRACKET    (            0.00000      null         (2    ,11   )
CONST_ID     20           20.00000     null         (2    ,13   )
COMMA        ,            0.00000      null         (2    ,14   )
CONST_ID     200          200.00000    null         (2    ,18   )
R_BRACKET    )            0.00000      null         (2    ,19   )
SEMICO       ;            0.00000      null         (2    ,20   )
ROT          ROT          0.00000      null         (3    ,3    )
IS           IS           0.00000      null         (3    ,6    )
CONST_ID     0            0.00000      null         (3    ,8    )
SEMICO       ;            0.00000      null         (3    ,9    )
SCALE        SCALE        0.00000      null         (4    ,5    )
IS           IS           0.00000      null         (4    ,8    )
L_BRACKET    (            0.00000      null         (4    ,10   )
CONST_ID     40           40.00000     null         (4    ,12   )
COMMA        ,            0.00000      null         (4    ,13   )
CONST_ID     40           40.00000     null         (4    ,16   )
R_BRACKET    )            0.00000      null         (4    ,17   )
SEMICO       ;            0.00000      null         (4    ,18   )
FOR          FOR          0.00000      null         (7    ,3    )
T            T            0.00000      null         (7    ,5    )
FROM         FROM         0.00000      null         (7    ,10   )
CONST_ID     0            0.00000      null         (7    ,12   )
TO           TO           0.00000      null         (7    ,15   )
CONST_ID     2            2.00000      null         (7    ,17   )
MUL          *            0.00000      null         (7    ,18   )
CONST_ID     PI           3.14159      null         (7    ,20   )
PLUS         +            0.00000      null         (7    ,21   )
CONST_ID     PI           3.14159      null         (7    ,24   )
DIV          /            0.00000      null         (7    ,25   )
CONST_ID     50           50.00000     null         (7    ,27   )
STEP         STEP         0.00000      null         (7    ,33   )
CONST_ID     PI           3.14159      null         (7    ,36   )
DIV          /            0.00000      null         (7    ,37   )
CONST_ID     50           50.00000     null         (7    ,39   )
DRAW         DRAW         0.00000      null         (7    ,44   )
L_BRACKET    (            0.00000      null         (7    ,46   )
T            T            0.00000      null         (7    ,47   )
COMMA        ,            0.00000      null         (7    ,48   )
FUNC         SIN          0.00000      sin          (7    ,51   )
L_BRACKET    (            0.00000      null         (7    ,52   )
T            T            0.00000      null         (7    ,53   )
R_BRACKET    )            0.00000      null         (7    ,54   )
R_BRACKET    )            0.00000      null         (7    ,55   )
SEMICO       ;            0.00000      null         (7    ,56   )
_________________________________________________________________

```
### Parser result
```
Analyse file:[ScannerTest.txt]...
enter in program
  enter in statement
    enter in origin_statement
      matchtoken ORIGIN
      matchtoken IS
      matchtoken (
      enter in expression
        matchtoken 20
      exit from expression
      20
      matchtoken ,
      enter in expression
        matchtoken 200
      exit from expression
      200
      matchtoken )
    exit from origin_statement
  exit from statement
  matchtoken ;
  enter in statement
    enter in rot_statement
      matchtoken ROT
      matchtoken IS
      enter in expression
        matchtoken 0
      exit from expression
      0
    exit from rot_statement
  exit from statement
  matchtoken ;
  enter in statement
    enter in scale_statement
      matchtoken SCALE
      matchtoken IS
      matchtoken (
      enter in expression
        matchtoken 40
      exit from expression
      40
      matchtoken ,
      enter in expression
        matchtoken 40
      exit from expression
      40
      matchtoken )
    exit from scale_statement
  exit from statement
  matchtoken ;
  enter in statement
    enter in for_statement
      matchtoken FOR
      matchtoken T
      matchtoken FROM
      enter in expression
        matchtoken 0
      exit from expression
      0
      matchtoken TO
      enter in expression
        matchtoken 2
        matchtoken *
        matchtoken PI
        matchtoken +
        matchtoken PI
        matchtoken /
        matchtoken 50
      exit from expression
      +
        *
          2
          PI
        /
          PI
          50
      matchtoken STEP
      enter in expression
        matchtoken PI
        matchtoken /
        matchtoken 50
      exit from expression
      /
        PI
        50
      matchtoken DRAW
      matchtoken (
      enter in expression
        matchtoken T
      exit from expression
      T
      matchtoken ,
      enter in expression
        matchtoken SIN
        matchtoken (
        enter in expression
          matchtoken T
        exit from expression
        matchtoken )
      exit from expression
      SIN
        T
      matchtoken )
    exit from for_statement
  exit from statement
  matchtoken ;
exit from program
ScannerTest.txt
  ORIGIN
    20
    200
  ROT
    0
  SCALE
    40
    40
  FOR
    0
    +
      *
        2
        PI
      /
        PI
        50
    /
      PI
      50
    T
    SIN
      T

```
### Semantic Analyzer result
```
origin.
rot.
scale.
for.
----------------------------
1 x: 20.0 y: 200.0
----------------------------
2 x: 22.513274080000002 y: 202.5116207383853
----------------------------
3 x: 25.02654816 y: 205.0133292575046
----------------------------
4 x: 27.53982224 y: 207.49525245709162
----------------------------
5 x: 30.05309632 y: 209.94759532049446
----------------------------
6 x: 32.566370400000004 y: 212.36067957113022
----------------------------
7 x: 35.07964448 y: 214.72498186821977
----------------------------
8 x: 37.59291856 y: 217.03117139106175
----------------------------
9 x: 40.10619264 y: 219.2701466635176
----------------------------
10 x: 42.619466720000005 y: 221.43307147337887
----------------------------
11 x: 45.1327408 y: 223.5114097448585
----------------------------
12 x: 47.646014879999996 y: 225.4969592265811
----------------------------
13 x: 50.15928896 y: 227.38188386212087
----------------------------
14 x: 52.67256303999999 y: 229.1587447153352
----------------------------
15 x: 55.185837119999995 y: 230.82052932844607
----------------------------
16 x: 57.69911119999999 y: 232.3606793970064
----------------------------
17 x: 60.21238527999999 y: 233.77311665253055
----------------------------
18 x: 62.725659359999995 y: 235.05226685064224
----------------------------
19 x: 65.23893344 y: 236.19308177006985
----------------------------
20 x: 67.75220751999998 y: 237.19105913566872
----------------------------
21 x: 70.26548159999999 y: 238.04226038684362
----------------------------
22 x: 72.77875567999999 y: 238.7433262212476
----------------------------
23 x: 75.29202975999999 y: 239.29148985241315
----------------------------
24 x: 77.80530384 y: 239.684587928994
----------------------------
25 x: 80.31857791999998 y: 239.92106907252418
----------------------------
26 x: 82.83185199999998 y: 240.0
----------------------------
27 x: 85.34512607999999 y: 239.9210692071214
----------------------------
28 x: 87.85840015999997 y: 239.68458819765726
----------------------------
29 x: 90.37167423999998 y: 239.2914902540822
----------------------------
30 x: 92.88494831999998 y: 238.7433267543372
----------------------------
31 x: 95.39822239999998 y: 238.0422610492499
----------------------------
32 x: 97.91149647999998 y: 237.19105992477745
----------------------------
33 x: 100.42477055999997 y: 236.19308268276683
----------------------------
34 x: 102.93804463999997 y: 235.05226788332544
----------------------------
35 x: 105.45131871999997 y: 233.77311780112444
----------------------------
36 x: 107.96459279999996 y: 232.36068065697802
----------------------------
37 x: 110.47786687999997 y: 230.82053069482285
----------------------------
38 x: 112.99114095999997 y: 229.1587461827247
----------------------------
39 x: 115.50441503999997 y: 227.381885424732
----------------------------
40 x: 118.01768911999997 y: 225.49696087824694
----------------------------
41 x: 120.53096319999996 y: 223.51141147906065
----------------------------
42 x: 123.04423727999996 y: 221.43307328327325
----------------------------
43 x: 125.55751135999996 y: 219.2701485419614
----------------------------
44 x: 128.07078543999995 y: 217.03117333064154
----------------------------
45 x: 130.58405951999995 y: 214.72498386128098
----------------------------
46 x: 133.09733359999996 y: 212.36068160980713
----------------------------
47 x: 135.61060767999996 y: 209.94759739674134
----------------------------
48 x: 138.12388175999996 y: 207.49525456271448
----------------------------
49 x: 140.63715583999993 y: 205.01333138419352
----------------------------
50 x: 143.15042991999997 y: 202.5116228777472
----------------------------
51 x: 145.66370399999994 y: 200.0000021435918
----------------------------
52 x: 148.17697807999994 y: 197.4883814009766
----------------------------
53 x: 150.69025215999994 y: 194.9866728691843
----------------------------
54 x: 153.20352623999995 y: 192.5047496485313
----------------------------
55 x: 155.71680031999995 y: 190.0524067557525
----------------------------
56 x: 158.23007439999995 y: 187.63932246754675
----------------------------
57 x: 160.74334847999995 y: 185.2750201248415
----------------------------
58 x: 163.25662255999993 y: 182.96883054851813
----------------------------
59 x: 165.76989663999993 y: 180.72985521492623
----------------------------
60 x: 168.28317071999993 y: 178.56693033651558
----------------------------
61 x: 170.79644479999993 y: 176.48859198934375
----------------------------
62 x: 173.30971887999993 y: 174.5030424250848
----------------------------
63 x: 175.82299295999994 y: 172.61811770049036
----------------------------
64 x: 178.33626703999994 y: 170.84125675205445
----------------------------
65 x: 180.84954111999994 y: 169.17947203793082
----------------------------
66 x: 183.36281519999997 y: 167.6393218629653
----------------------------
67 x: 185.87608927999997 y: 166.2268844960634
----------------------------
68 x: 188.38936336 y: 164.94773418204102
----------------------------
69 x: 190.90263744 y: 163.80691914262718
----------------------------
70 x: 193.41591152000004 y: 162.80894165344012
----------------------------
71 x: 195.92918560000004 y: 161.95774027556274
----------------------------
72 x: 198.44245968000007 y: 161.25667431184206
----------------------------
73 x: 200.95573376000007 y: 160.70851054925598
----------------------------
74 x: 203.4690078400001 y: 160.3154123396694
----------------------------
75 x: 205.9822819200001 y: 160.07893106207317
----------------------------
76 x: 208.49555600000014 y: 160.0000000000001
----------------------------
77 x: 211.00883008000014 y: 160.07893065828148
----------------------------
78 x: 213.52210416000017 y: 160.3154115336796
----------------------------
79 x: 216.03537824000017 y: 160.7085093442489
----------------------------
80 x: 218.5486523200002 y: 161.2566727125734
----------------------------
81 x: 221.0619264000002 y: 161.95773828834402
----------------------------
82 x: 223.57520048000023 y: 162.808939286114
----------------------------
83 x: 226.08847456000024 y: 163.80691640453642
----------------------------
84 x: 228.60174864000027 y: 164.94773108399164
----------------------------
85 x: 231.11502272000027 y: 166.22688105028195
----------------------------
86 x: 233.6282968000003 y: 167.63931808305068
----------------------------
87 x: 236.1415708800003 y: 169.17946793880068
----------------------------
88 x: 238.65484496000033 y: 170.84125234988613
----------------------------
89 x: 241.16811904000033 y: 172.61811301265726
----------------------------
90 x: 243.68139312000037 y: 174.50303747008766
----------------------------
91 x: 246.19466720000037 y: 176.48858678673764
----------------------------
92 x: 248.7079412800004 y: 178.56692490683284
----------------------------
93 x: 251.2212153600004 y: 180.72984957959534
----------------------------
94 x: 253.73448944000043 y: 182.96882472977916
----------------------------
95 x: 256.24776352000043 y: 185.27501414565833
----------------------------
96 x: 258.76103760000046 y: 187.63931635151653
----------------------------
97 x: 261.27431168000044 y: 190.05240052701237
----------------------------
98 x: 263.7875857600005 y: 192.50474333166326
----------------------------
99 x: 266.3008598400005 y: 194.98666648911816
----------------------------
100 x: 268.81413392000053 y: 197.48837498289154
----------------------------
101 x: 271.32740800000056 y: 199.99999571281708
```
